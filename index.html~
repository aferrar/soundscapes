<!DOCTYPE HTML>
<html>
  <head>
    <script src="http://www.webglearth.com/v2/api.js"></script>
    <script>
      function initialize() {
	var options = {atmosphere: false, center: [0,0], zoom: 0};
        var earth = new WE.map('earth_div', options);
        WE.tileLayer('http://tileserver.maptiler.com/nasa/{z}/{x}/{y}.jpg', {
	  minZoom: 0,
	  maxZoom: 5,
	  attribution: 'NASA'
	}).addTo(earth);

	// Start a simple rotation animation
        var before = null;
        requestAnimationFrame(function animate(now) {
            var c = earth.getPosition();
            var elapsed = before? now - before: 0;
            before = now;
            earth.setCenter([c[0], c[1] + 0.1*(elapsed/30)]);
            requestAnimationFrame(animate);
        });

	// Add polygons to globe
	
	var polygon_madagascar = WE.polygon([ [ -25.793356420886475,  45.184717735645705], [ -25.772769579533303,  45.611491929134679], [ -25.642303382178127,  46.053508058105415], [-25.160410623898656,  47.26524192890448], [ -24.385417882532774,  47.577701606280343], [ -23.773135127923272,  47.882540315915321], [ -23.031773069426908,  48.034959670732817], [ -22.003959419946113,  48.339798380367803], [-20.548193923819738,  48.75133063837503], [ -19.990572138912075,  49.086653218973524], [ -19.337512575840076,  49.208588702827512], [ -18.139514945846535,  49.658225799539117], [ -17.922114001129255,  49.658225799539117], [ -16.729008680694143,  50.260282251068212], [ -16.316204928804527,  50.084999993028099], [ -16.060046909405933,  50.504153218776196], [-15.31166360239123,  50.73278225100244], [-13.932738080599377,  50.33649192847696], [ -12.601317106298509,  49.993548380137597], [ -11.707310600775136,  49.345766122163255], [ -11.796845202970312,  49.018064509305653], [ -12.124887233844845,  48.454112896480922], [ -12.660809325393066,  48.454112896480922], [-13.425511021491049,  47.63104838046646], [ -14.44623374214467,  47.432903219203716], [ -15.307988344396922,  46.411693541926518], [ -16.158890082515498,  43.767217735843026], [ -17.501050576681902,  43.538588703616782], [ -18.494021431788177,  43.538588703616782], [ -18.941529869055508,  44.026330639032757], [ -19.78632907087934,  44.178749993850246], [-20.466106755596165,  43.82818547777002], [ -20.787065771873273,  43.492862897171534], [ -21.887325178297694,  42.974637090792058], [ -22.141676258976037,  42.967016123051181], [ -23.070341716562115,  43.195645155277425], [ -23.441434584144197,  43.447137090726287], [ -24.420118575214094,  43.454758058467164], [ -25.346511437411859,  43.972983864846633], [ -25.346511437411859,  43.972983864846633], [ -25.793356420886475,  45.184717735645705] ], {
	    color: '#ff0',
	    opacity: 1,
	    fillColor: '#f00',
	    fillOpacity: 0.3,
	    editable: false,
	    weight: 0
        }).addTo(earth);
      }
    </script>
  </head>
  <body style="background-color:black; width: 100%; height: 100%" onload="initialize()">
    <div id="title" style="text-align: center; color: white; border-style: groove">SoundMapper Draft</div>
    <div id="earth_div" style="position: relative; float: right; width: 80%; z-index: -1; border-style: groove"></div>
    <div id="panel" style="position: absolute; width: 19%; height: 50%; color: white; border-style: groove">Narration Panel</div
  </body>
</html>
